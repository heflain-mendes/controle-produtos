<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="../dist/bootstrap.min.css">
    <title>Services</title>
    <style>
        .btn-circle {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: none;
          display: flex;
          align-items: center;
          justify-content: center;
          background: none;
        }

        .btn-circle:hover{
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
      </style>
</head>

<body class="bg-body-red">
    <div class="container min-vh-100 d-flex justify-content-center align-items-center">
        <div class="col-md-5 my-3">
            <h3>Cadastro/Insert/Delete</h3>
            <form action="" method="post">
                <div class="p mb-2">
                    <label for="name" class="form-label">Nome: </label>
                    <input type="text" class="form-control" name="name" id="name">
                </div>
                <div class="mb-2">
                    <label for="value" class="form-label">Valor: </label>
                    <div class="input-group">
                        <span class="input-group-text">R$</span>
                        <input type="text" class="form-control" name="value" id="value">
                    </div>
                </div>
                <div class="mb-2">
                    <label for="type" class="form-label">Tipo: </label>
                    <select class="form-select" name="type" id="type">
                        <option selected>Selecione um tipo</option>
                        <option value="1">One</option>
                        <option value="2">Two</option>
                        <option value="3">Three</option>
                      </select>
                </div>
                <div class="mb-2">
                    <label for="description" class="form-label">Descrição: </label>
                    <input type="text" class="form-control" name="description" id="description">
                </div>
                <div class="mb-2" id="date-service">
                    <label for="dates" class="form-label">Datas: </label>
                    <div class="d-flex" id="dates0">
                        <input type="datetime-local" class="form-control mb-2" name="dates" >
                        <button type="button" onclick="removeDate(0)" class="btn-circle"><i class="material-icons">remove</i></button>
                    </div>
                </div>
                <div class="d-flex justify-content-center align-items-center" id="add-date-service">
                    <button type="button" onclick="addDate()" class="btn-circle"><i class="material-icons">add</i></button>
                </div>
                <button type="submit" class="btn btn-primary">Cadastrar</button>
            </form>
        </div>
        

    </div>
    <script src="../dist/bootstrap.bundle.min.js"></script>
    <script>
        var inputAppend = `
                    <div class="d-flex" id="dates$">
                        <input type="datetime-local" class="form-control mb-1" name="dates">
                        <button type="button" onclick="removeDate($)" class="btn-circle"><i class="material-icons">remove</i></button>
                    </div>`;
        
        const divDateInput = document.querySelector("#date-service");
        
        function addDate(){
           
            const lenghtDateInput = divDateInput.querySelectorAll("input").length;
            if(lenghtDateInput < 7){
                divDateInput.innerHTML += inputAppend.replaceAll('$', lenghtDateInput);
            }
        }

        function removeDate(index){
            divDateInput.querySelector("#dates" + index).remove();

            divDateInput.querySelectorAll("div").forEach((item, index) => {
                item.id = "dates" + index;
                item.querySelector("button").setAttribute("onclick", `removeDate(${index})`);
            })
        }
    </script>
</body>

</html>